<!DOCTYPE html>
<html ng-app="day04">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/angular-route/angular-route.js"></script>
	<script>
		// module('模块名',['依赖的模块'])
		// ngRoute 来源于angular-route.js里面定义好的模块
		var myapp = angular.module('day04',['ngRoute']);
		// 依赖前置:把依赖的文件提前准备好
		// 依赖后置:什么时候用什么时候加载
		// seajs requirejs
		myapp.config(['$routeProvider',function($routeProvider){
			// 路由地址就是#后面的内容(也是被浏览器忽略的内容)
			// when('路由地址',{"":""})
			$routeProvider.when('/homepage',{
				// template:'<div>this is a homepage</div>'+
				// 	'<a href="#/detailpage">go to detail</a>',
				templateUrl:'view/homepageView.html',
				// controller:['函数依赖前置'，函数]
				// controller: string 常用格式
				controller:["$scope",function($scope){
					$scope.homepage = "hello homepage";
				}]
			}).when('/detailpage',{
				template:'<div>这是一个详情页</div>'+
					'<a href="#/homepage">return homepage</a>'
			}).when('/detailpage/:pageid/:pageid2',{
				// 路由带参数的形式
				template:'<div>this is a testpage {{pageid+pageid2}}</div>',
				controller:["$scope","routeParams",function($scope,$routeParams){
					$scope.pageid = $routeParams.pageid || null;
					$scope.pageid2 = $routeParams.pageid2 || null;
				}]
			}).otherwise({
				// otherwise 上面的路由都没有匹配到的时候，运行
				// redirectTo: 重定向到指定的路由地址
				redirectTo:'/homepage'
			})
		}]);
	</script>

</head>
<body>
	<header style="line-height: 40px;background: #ea4f4d;text-align: center;color:#fff;">
		页面头部
	</header>
	<!-- ng-view ng的页面视图,路由对应的template 会自动注入到ng-view这个位置 -->
	<!-- SPA 单页面机制 与html的锚点功能原理一样，
			#号后面的内容，浏览器会自动忽略 -->
	<div ng-view></div>

	<footer style="line-height: 40px;background: #ea4f4d;text-align: center;color:#fff;">
		页面尾部
	</footer>
</body>
</html>