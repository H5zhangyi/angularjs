<!DOCTYPE html>
<html ng-app="day03">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<script src="bower_components/angular/angular.js"></script>
</head>
<body>
	<easy-demo></easy-demo>
	<!-- <div easy-demo></div>
	<div class="easy-demo"></div> -->
	<!-- directive:easy-demo -->
	<script>
		var myapp = angular.module('day03',[]);
		// 自定义指令
		// ("指令名",fn()) 指令名需要时驼峰式命名，引用的时候以-形式命名

		// 引用的形式
		// 1. E 以元素的方式 <easy-demo></easy-demo>
		// 2. A 以属性的方式 <div easy-demo></div>
		// 3. C 以类的方式 <div class="easy-demo"></div>
		// 4. M 以注释的方式  <!--directive:easy-demo --> 后面空格必须有
		myapp.directive("easyDemo",function(){
			return {
				restrict: 'EACM', // 默认 'EA' 
				replace: false, // 默认 false 替换引用标签 用注释引用时必须为true
				// template: '<h1>hello world</h2>',
				// 模板页面片段
				templateUrl:"include/direction.html",
				controller: function($scope,$http,$interval){
					// $scope.imgArr = [
					// 	'http://10.48.0.41:3000/static/app/images/1.jpg',
					// 	'http://10.48.0.41:3000/static/app/images/2.jpg',
					// 	'http://10.48.0.41:3000/static/app/images/3.jpg',
					// 	'http://10.48.0.41:3000/static/app/images/4.jpg'];
					$http({
						url: "http://10.48.0.41:3000/User/getImgSlide",
						type:"get",
						params:{
							id:"1601",
							name:"yinguit"
						}
					}).success(function(res){
						$scope.imgArr = res.result;
						$scope.showIndex = 0;
						$interval(function(){
							if($scope.showIndex >= $scope.imgArr.length-1){
								$scope.showIndex = 0;
							}
							$scope.showIndex++;
						},1000);
					});
				}
			}
		});
		
	</script>
</body>
</html>